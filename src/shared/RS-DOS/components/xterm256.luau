--[[
Name: xterm256.luau
Description: xterm256 support and helper for styling output

Creator: SquelchMaster
Date: 08/03/2024 

Comments: https://www.ditig.com/publications/256-colors-cheat-sheet
]]

local rgb = Color3.fromRGB

local palette = {
	[000] = {name = "Black",			 color = rgb(000,000,000) },
	[001] = {name = "Maroon",			 color = rgb(128,000,000) },
	[002] = {name = "Green",			 color = rgb(000,128,000) },
	[003] = {name = "Olive",			 color = rgb(128,128,000) },
	[004] = {name = "Navy",				 color = rgb(000,000,128) },
	[005] = {name = "Purple",			 color = rgb(128,000,128) },
	[006] = {name = "Teal",				 color = rgb(000,128,128) },
	[007] = {name = "Silver",			 color = rgb(192,192,192) },
	[008] = {name = "Grey",				 color = rgb(128,128,128) },
	[009] = {name = "Red",				 color = rgb(255,000,000) },
	[010] =	{name = "Lime",				 color = rgb(000,255,000) },
	[011] =	{name = "Yellow",			 color = rgb(255,255,000) },
	[012] =	{name = "Blue",				 color = rgb(000,000,255) },
	[013] =	{name = "Fuchsia",			 color = rgb(255,000,255) },
	[014] =	{name = "Aqua",				 color = rgb(000,255,255) },
	[015] = {name = "White",				color = rgb(255,255,255) },
	[016] = {name =	"Grey0",			 color = rgb(000,000,000) },
	[017] = {name =	"NavyBlue",			 color = rgb(000,000,095) },
	[018] = {name =	"DarkBlue",			 color = rgb(000,000,135) },
	[019] = {name =	"Blue3",			 color = rgb(000,000,175) },
	[020] = {name =	"Blue3",			 color = rgb(000,000,215) },
	[021] = {name =	"Blue1",			 color = rgb(000,000,255) },
	[022] = {name =	"DarkGreen",		 color = rgb(000,095,000) },
	[023] = {name =	"DeepSkyBlue4", 	 color = rgb(000,095,095) },
	[024] = {name =	"DeepSkyBlue4", 	 color = rgb(000,095,135) },
	[025] = {name =	"DeepSkyBlue4", 	 color = rgb(000,095,175) },
	[026] = {name =	"DodgerBlue3",		 color = rgb(000,095,215) },
	[027] = {name =	"DodgerBlue2",		 color = rgb(000,095,255) },
	[028] = {name =	"Green4",			 color = rgb(000,135,000) },
	[029] = {name =	"SpringGreen4",		 color = rgb(000,135,095) },
	[030] = {name =	"Turquoise4",		 color = rgb(000,135,135) },
	[031] = {name =	"DeepSkyBlue3",		 color = rgb(000,135,175) },
	[032] = {name =	"DeepSkyBlue3",		 color = rgb(000,135,215) },
	[033] = {name =	"DodgerBlue1",		 color = rgb(000,135,255) },
	[034] = {name =	"Green3",			 color = rgb(000,175,000) },
	[035] = {name =	"SpringGreen3",		 color = rgb(000,175,095) },
	[036] = {name =	"DarkCyan",			 color = rgb(000,175,135) },
	[037] = {name =	"LightSeaGreen",	 color = rgb(000,175,175) },
	[038] = {name =	"DeepSkyBlue2",		 color = rgb(000,175,215) },
	[039] = {name =	"DeepSkyBlue1",		 color = rgb(000,175,255) },
	[040] = {name =	"Green3",			 color = rgb(000,215,000) },
	[041] = {name =	"SpringGreen3", 	 color = rgb(000,215,095) },
	[042] = {name =	"SpringGreen2", 	 color = rgb(000,215,135) },
	[043] = {name =	"Cyan3", 			 color = rgb(000,215,175) },
	[044] = {name =	"DarkTurquoise",	 color = rgb(000,215,215) },
	[045] = {name =	"Turquoise2",		 color = rgb(000,215,255) },
	[046] = {name =	"Green1",			 color = rgb(000,255,000) },
	[047] = {name =	"SpringGreen2", 	 color = rgb(000,255,095) },
	[048] = {name =	"SpringGreen1", 	 color = rgb(000,255,135) },
	[049] = {name =	"MediumSpringGreen", color = rgb(000,255,175) },
	[050] = {name =	"Cyan2", 			 color = rgb(000,255,215) },
	[051] = {name =	"Cyan1", 			 color = rgb(000,255,255) },
	[052] = {name =	"DarkRed", 			 color = rgb(095,000,000) },
	[053] = {name =	"DeepPink4", 		 color = rgb(095,000,095) },
	[054] = {name =	"Purple4", 			 color = rgb(095,000,135) },
	[055] = {name =	"Purple4", 			 color = rgb(095,000,175) },
	[056] = {name =	"Purple3", 			 color = rgb(095,000,215) },
	[057] = {name =	"BlueViolet", 		 color = rgb(095,000,255) },
	[058] = {name =	"Orange4", 			 color = rgb(095,095,000) },
	[059] = {name =	"Grey37", 			 color = rgb(095,095,095) },
	[060] = {name =	"MediumPurple4", 	 color = rgb(095,095,135) },
	[061] = {name =	"SlateBlue3", 		 color = rgb(095,095,175) },
	[062] = {name =	"SlateBlue3", 		 color = rgb(095,095,215) },
	[063] = {name =	"RoyalBlue1", 		 color = rgb(095,095,255) },
	[064] = {name =	"Chartreuse4", 		 color = rgb(095,135,000) },
	[065] = {name =	"DarkSeaGreen4",	 color = rgb(095,135,095) },
	[066] = {name =	"PaleTurquoise4",	 color = rgb(095,135,135) },
	[067] = {name =	"SteelBlue",		 color = rgb(095,135,175) },
	[068] = {name =	"SteelBlue3",		 color = rgb(095,135,215) },
	[069] = {name =	"CornflowerBlue",	 color = rgb(095,135,255) },
	[070] = {name =	"Chartreuse3",		 color = rgb(095,175,000) },
	[071] = {name =	"DarkSeaGreen4",	 color = rgb(095,175,095) },
	[072] = {name =	"CadetBlue",		 color = rgb(095,175,135) },
	[073] = {name =	"CadetBlue",		 color = rgb(095,175,175) },
	[074] = {name =	"SkyBlue3",			 color = rgb(095,175,215) },
	[075] = {name =	"SteelBlue1",		 color = rgb(095,175,255) },
	[076] = {name =	"Chartreuse3",		 color = rgb(095,215,000) },
	[077] = {name =	"PaleGreen3",		 color = rgb(095,215,095) },
	[078] = {name =	"SeaGreen3",		 color = rgb(095,215,135) },
	[079] = {name =	"Aquamarine3", 		 color = rgb(095,215,175) },
	[080] = {name =	"MediumTurquoise",	 color = rgb(095,215,215) },
	[081] = {name =	"SteelBlue1",		 color = rgb(095,215,255) },
	[082] = {name =	"Chartreuse2",		 color = rgb(095,255,000) },
	[083] = {name =	"SeaGreen2",		 color = rgb(095,255,095) },
	[084] = {name =	"SeaGreen1",		 color = rgb(095,255,135) },
	[085] = {name =	"SeaGreen1",		 color = rgb(095,255,175) },
	[086] = {name =	"Aquamarine1",		 color = rgb(095,255,215) },
	[087] = {name =	"DarkSlateGray2", 	 color = rgb(095,255,255) },
	[088] = {name =	"DarkRed",			 color = rgb(135,000,000) },
	[089] = {name =	"DeepPink4",		 color = rgb(135,000,095) },
	[090] = {name =	"DarkMagenta",		 color = rgb(135,000,135) },
	[091] = {name =	"DarkMagenta",		 color = rgb(135,000,175) },
	[092] = {name =	"DarkViolet",		 color = rgb(135,000,215) },
	[093] = {name =	"Purple",			 color = rgb(135,000,255) },
	[094] = {name =	"Orange4",			 color = rgb(135,095,000) },
	[095] = {name =	"LightPink4",		 color = rgb(135,095,095) },
	[096] = {name =	"Plum4",			 color = rgb(135,095,135) },
	[097] = {name =	"MediumPurple3",	 color = rgb(135,095,175) },
	[098] = {name =	"MediumPurple3",	 color = rgb(135,095,215) },
	[099] = {name =	"SlateBlue1",		 color = rgb(135,095,255) },
	[100] = {name =	"Yellow4",			 color = rgb(135,135,000) },
	[101] = {name =	"Wheat4",			 color = rgb(135,135,095) },
	[102] = {name =	"Grey53",			 color = rgb(135,135,135) },
	[103] = {name =	"LightSlateGrey",	 color = rgb(135,135,175) },
	[104] = {name =	"MediumPurple",		 color = rgb(135,135,215) },
	[105] = {name =	"LightSlateBlue",	 color = rgb(135,135,255) },
	[106] = {name =	"Yellow4",			 color = rgb(135,175,000) },
	[107] = {name =	"DarkOliveGreen3",	 color = rgb(135,175,095) },
	[108] = {name =	"DarkSeaGreen",		 color = rgb(135,175,135) },
	[109] = {name =	"LightSkyBlue3",	 color = rgb(135,175,175) },
	[110] = {name =	"LightSkyBlue3",	 color = rgb(135,175,215) },
	[111] = {name =	"SkyBlue2",			 color = rgb(135,175,255) },
	[112] = {name =	"Chartreuse2",		 color = rgb(135,215,000) },
	[113] = {name =	"DarkOliveGreen3",	 color = rgb(135,215,095) },
	[114] = {name =	"PaleGreen3",		 color = rgb(135,215,135) },
	[115] = {name =	"DarkSeaGreen3",	 color = rgb(135,215,175) },
	[116] = {name =	"DarkSlateGray3",	 color = rgb(135,215,215) },
	[117] = {name =	"SkyBlue1",			 color = rgb(135,215,255) },
	[118] = {name =	"Chartreuse1",		 color = rgb(135,255,000) },
	[119] = {name =	"LightGreen",		 color = rgb(135,255,095) },
	[120] = {name =	"LightGreen",		 color = rgb(135,255,135) },
	[121] = {name =	"PaleGreen1",		 color = rgb(135,255,175) },
	[122] = {name =	"Aquamarine1",		 color = rgb(135,255,215) },
	[123] = {name =	"DarkSlateGray1",	 color = rgb(135,255,255) },
	[124] = {name =	"Red3",				 color = rgb(175,000,000) },
	[125] = {name =	"DeepPink4",		 color = rgb(175,000,095) },
	[126] = {name =	"MediumVioletRed",	 color = rgb(175,000,135) },
	[127] = {name =	"Magenta3",			 color = rgb(175,000,175) },
	[128] = {name =	"DarkViolet",		 color = rgb(175,000,215) },
	[129] = {name =	"Purple",			 color = rgb(175,000,255) },
	[130] = {name =	"DarkOrange3",		 color = rgb(175,095,000) },
	[131] = {name =	"IndianRed",		 color = rgb(175,095,095) },
	[132] = {name =	"HotPink3",			 color = rgb(175,095,135) },
	[133] = {name =	"MediumOrchid3",	 color = rgb(175,095,175) },
	[134] = {name =	"MediumOrchid",		 color = rgb(175,095,215) },
	[135] = {name =	"MediumPurple2",	 color = rgb(175,095,255) },
	[136] = {name =	"DarkGoldenrod",	 color = rgb(175,135,000) },
	[137] = {name =	"LightSalmon3",		 color = rgb(175,135,095) },
	[138] = {name =	"RosyBrown",		 color = rgb(175,135,135) },
	[139] = {name =	"Grey63",			 color = rgb(175,135,175) },
	[140] = {name =	"MediumPurple2",	 color = rgb(175,135,215) },
	[141] = {name =	"MediumPurple1",	 color = rgb(175,135,255) },
	[142] = {name =	"Gold3",			 color = rgb(175,175,000) },
	[143] = {name =	"DarkKhaki",		 color = rgb(175,175,095) },
	[144] = {name =	"NavajoWhite3",		 color = rgb(175,175,135) },
	[145] = {name =	"Grey69",			 color = rgb(175,175,175) },
	[146] = {name =	"LightSteelBlue3",	 color = rgb(175,175,215) },
	[147] = {name =	"LightSteelBlue",	 color = rgb(175,175,255) },
	[148] = {name =	"Yellow3",			 color = rgb(175,215,000) },
	[149] = {name =	"DarkOliveGreen3",	 color = rgb(175,215,095) },
	[150] = {name =	"DarkSeaGreen3",	 color = rgb(175,215,135) },
	[151] = {name =	"DarkSeaGreen2",	 color = rgb(175,215,175) },
	[152] = {name =	"LightCyan3",		 color = rgb(175,215,215) },
	[153] = {name =	"LightSkyBlue1",	 color = rgb(175,215,255) },
	[154] = {name =	"GreenYellow",		 color = rgb(175,255,000) },
	[155] = {name =	"DarkOliveGreen2",	 color = rgb(175,255,095) },
	[156] = {name =	"PaleGreen1",		 color = rgb(175,255,135) },
	[157] = {name =	"DarkSeaGreen2",	 color = rgb(175,255,175) },
	[158] = {name =	"DarkSeaGreen1",	 color = rgb(175,255,215) },
	[159] = {name =	"PaleTurquoise1",	 color = rgb(175,255,255) },
	[160] = {name =	"Red3",			 	 color = rgb(215,000,000) },
	[161] = {name =	"DeepPink3",		 color = rgb(215,000,095) },
	[162] = {name =	"DeepPink3",		 color = rgb(215,000,135) },
	[163] = {name =	"Magenta3",			 color = rgb(215,000,175) },
	[164] = {name =	"Magenta3",			 color = rgb(215,000,215) },
	[165] = {name =	"Magenta2",			 color = rgb(215,000,255) },
	[166] = {name =	"DarkOrange3",		 color = rgb(215,095,000) },
	[167] = {name =	"IndianRed",		 color = rgb(215,095,095) },
	[168] = {name =	"HotPink3",			 color = rgb(215,095,135) },
	[169] = {name =	"HotPink2",			 color = rgb(215,095,175) },
	[170] = {name =	"Orchid",			 color = rgb(215,095,215) },
	[171] = {name =	"MediumOrchid1",	 color = rgb(215,095,255) },
	[172] = {name =	"Orange3",			 color = rgb(215,135,000) },
	[173] = {name =	"LightSalmon3",		 color = rgb(215,135,095) },
	[174] = {name =	"LightPink3",		 color = rgb(215,135,135) },
	[175] = {name =	"Pink3",			 color = rgb(215,135,175) },
	[176] = {name =	"Plum3",			 color = rgb(215,135,215) },
	[177] = {name =	"Violet",			 color = rgb(215,135,255) },
	[178] = {name =	"Gold3",			 color = rgb(215,175,000) },
	[179] = {name =	"LightGoldenrod3",	 color = rgb(215,175,095) },
	[180] = {name =	"Tan",			 	 color = rgb(215,175,135) },
	[181] = {name =	"MistyRose3",		 color = rgb(215,175,175) },
	[182] = {name =	"Thistle3",			 color = rgb(215,175,215) },
	[183] = {name =	"Plum2",			 color = rgb(215,175,255) },
	[184] = {name =	"Yellow3",			 color = rgb(215,215,000) },
	[185] = {name =	"Khaki3",			 color = rgb(215,215,095) },
	[186] = {name =	"LightGoldenrod2",	 color = rgb(215,215,135) },
	[187] = {name =	"LightYellow3",		 color = rgb(215,215,175) },
	[188] = {name =	"Grey84",			 color = rgb(215,215,215) },
	[189] = {name =	"LightSteelBlue1",	 color = rgb(215,215,255) },
	[190] = {name =	"Yellow2",			 color = rgb(215,255,000) },
	[191] = {name =	"DarkOliveGreen1",	 color = rgb(215,255,095) },
	[192] = {name =	"DarkOliveGreen1",	 color = rgb(215,255,135) },
	[193] = {name =	"DarkSeaGreen1",	 color = rgb(215,255,175) },
	[194] = {name =	"Honeydew2",		 color = rgb(215,255,215) },
	[195] = {name =	"LightCyan1",		 color = rgb(215,255,255) },
	[196] = {name =	"Red1",				 color = rgb(255,000,000) },
	[197] = {name =	"DeepPink2",		 color = rgb(255,000,095) },
	[198] = {name =	"DeepPink1",		 color = rgb(255,000,135) },
	[199] = {name =	"DeepPink1",		 color = rgb(255,000,175) },
	[200] = {name =	"Magenta2",			 color = rgb(255,000,215) },
	[201] = {name =	"Magenta1",			 color = rgb(255,000,255) },
	[202] = {name =	"OrangeRed1",		 color = rgb(255,095,000) },
	[203] = {name =	"IndianRed1",		 color = rgb(255,095,095) },
	[204] = {name =	"IndianRed1",		 color = rgb(255,095,135) },
	[205] = {name =	"HotPink",			 color = rgb(255,095,175) },
	[206] = {name =	"HotPink",			 color = rgb(255,095,215) },
	[207] = {name =	"MediumOrchid1",	 color = rgb(255,095,255) },
	[208] = {name =	"DarkOrange",		 color = rgb(255,135,000) },
	[209] = {name =	"Salmon1",			 color = rgb(255,135,095) },
	[210] = {name =	"LightCoral",		 color = rgb(255,135,135) },
	[211] = {name =	"PaleVioletRed1",	 color = rgb(255,135,175) },
	[212] = {name =	"Orchid2",			 color = rgb(255,135,215) },
	[213] = {name =	"Orchid1",			 color = rgb(255,135,255) },
	[214] = {name =	"Orange1",			 color = rgb(255,175,000) },
	[215] = {name =	"SandyBrown",		 color = rgb(255,175,095) },
	[216] = {name =	"LightSalmon1",		 color = rgb(255,175,135) },
	[217] = {name =	"LightPink1",		 color = rgb(255,175,175) },
	[218] = {name =	"Pink1",			 color = rgb(255,175,215) },
	[219] = {name =	"Plum1",			 color = rgb(255,175,255) },
	[220] = {name =	"Gold1",			 color = rgb(255,215,000) },
	[221] = {name =	"LightGoldenrod2",	 color = rgb(255,215,095) },
	[222] = {name =	"LightGoldenrod2",	 color = rgb(255,215,135) },
	[223] = {name =	"NavajoWhite1",		 color = rgb(255,215,175) },
	[224] = {name =	"MistyRose1",		 color = rgb(255,215,215) },
	[225] = {name =	"Thistle1",			 color = rgb(255,215,255) },
	[226] = {name =	"Yellow1",			 color = rgb(255,255,000) },
	[227] = {name =	"LightGoldenrod1",	 color = rgb(255,255,095) },
	[228] = {name =	"Khaki1",			 color = rgb(255,255,135) },
	[229] = {name =	"Wheat1",			 color = rgb(255,255,175) },
	[230] = {name =	"Cornsilk1",		 color = rgb(255,255,215) },
	[231] = {name =	"Grey100",			 color = rgb(255,255,255) },
	[232] = {name =	"Grey3",			 color = rgb(008,008,008) },
	[233] = {name =	"Grey7",			 color = rgb(018,018,018) },
	[234] = {name =	"Grey11",			 color = rgb(028,028,028) },
	[235] = {name =	"Grey15",			 color = rgb(038,038,038) },
	[236] = {name =	"Grey19",			 color = rgb(048,048,048) },
	[237] = {name =	"Grey23",			 color = rgb(058,058,058) },
	[238] = {name =	"Grey27",			 color = rgb(068,068,068) },
	[239] = {name =	"Grey30",			 color = rgb(078,078,078) },
	[240] = {name =	"Grey35",			 color = rgb(088,088,088) },
	[241] = {name =	"Grey39",			 color = rgb(098,098,098) },
	[242] = {name =	"Grey42",			 color = rgb(108,108,108) },
	[243] = {name =	"Grey46",			 color = rgb(118,118,118) },
	[244] = {name =	"Grey50",			 color = rgb(128,128,128) },
	[245] = {name =	"Grey54",			 color = rgb(138,138,138) },
	[246] = {name =	"Grey58",			 color = rgb(148,148,148) },
	[247] = {name =	"Grey62",			 color = rgb(158,158,158) },
	[248] = {name =	"Grey66",			 color = rgb(168,168,168) },
	[249] = {name =	"Grey70",			 color = rgb(178,178,178) },
	[250] = {name =	"Grey74",			 color = rgb(188,188,188) },
	[251] = {name =	"Grey78",			 color = rgb(198,198,198) },
	[252] = {name =	"Grey82",			 color = rgb(208,208,208) },
	[253] = {name =	"Grey85",			 color = rgb(218,218,218) },
	[254] = {name =	"Grey89",			 color = rgb(228,228,228) },
	[255] = {name =	"Grey93",			 color = rgb(238,238,238) },
}

--[[

<	&lt;	10 &lt; 100	10 < 100
>	&gt;	100 &gt; 10	100 > 10
"	&quot;	Meet &quot;Diva Dragonslayer&quot;	Meet "Diva Dragonslayer"
'	&apos;	Diva&apos;s pet is a falcon!	Diva's pet is a falcon!
&	&amp;	Render another escape form <b>&amp;lt;</b> by escaping an ampersand	Render another escape form &lt; by escaping an ampersand
]]
local escapes = {
	["<"] = "&lt;",
	[">"] = "&gt;",
	['"'] = "&quot;",
	["'"] = "&apos;",
	["&"] = "&amp;"
}

return setmetatable({
	palette = palette	
}, {
	__call = function(_, s: string, paletteIndex: number)
		for char, escape in pairs(escapes) do
			s = s:gsub(char, escape)
		end
		
		return `<font color="#{palette[paletteIndex].color:ToHex()}">{s}</font>`
	end,
})
